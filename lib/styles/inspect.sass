@import './common'

////////////////////////////////////////
// general panel

.janus-inspect-panel
  @include panel(panel)
  padding: 0
    bottom: 0.7em
  position: relative

  .panel-title
    color: $color-inspect
    font-family: $font-monospace
    font-size: 1.1em
    letter-spacing: -0.02em
    padding: 0.6em 0.9em

  .panel-handle
    $width: 6em
    @include drag-affordance(#888)
    height: 0.3em
    left: calc(50% - #{$width / 2})
    opacity: 0
    position: absolute
    top: 0.8em
    transition: 0.3s opacity ease-out
    width: $width + 0.1em
  &:hover .panel-handle
    opacity: 0.3
    transition: none
  .panel-handle:hover
    opacity: 1

  .panel-handle::before
    $overhang: -0.5em
    @include reify
    bottom: $overhang
    position: absolute
    top: $overhang
    width: 100%

  .panel-derivation
    margin: -0.5em 0.9em 0.5em

  .panel-content
    background: $color-page-bg
    border-bottom: 1px dotted #f0f0f0
    border-top: 1px dotted #f0f0f0
    padding: 0.6em 1em


////////////////////////////////////////
// highlight

.janus-inspect-entity.highlight
  background: $color-accent
  border-radius: 0.1em
  box-shadow: 0 0 0 0.2em $color-accent
  .entity-title, .entity-content::before, .entity-content::after
    color: #fff

  .entity-content .model-pairs
    color: #ddd

.janus-inspect-entity .entity-title:hover + .entity-content
  &::before, &::after
    color: #fff

.janus-inspect-panel.highlight:not(:hover)
  box-shadow: 0 0 0 0.1em $color-accent !important

.varying-tree .varying-tree .varying-tree .varying-node.highlight
  border-color: $color-accent !important


////////////////////////////////////////
// pairs

.data-pair
  .pair-key, .pair-delimeter, .pair-value
    font-size: 1.1em

  .pair-clear
    @include no-appearance
    font-size: 1.3em
    opacity: 0
    transition: 0.3s opacity ease-out
  &:hover .pair-clear
    opacity: 0.3
    transition: none
  .pair-clear:hover
    opacity: 1

  .pair-value .janus-literal
    font-size: 1.1em

.janus-inspect-model .pair-key
  font-weight: bold

.janus-inspect-list
  .data-pair .pair-key
    color: #aaa
    margin-right: 0.3em
  .data-pair:nth-child(5n + 1) .pair-key
    color: #555


////////////////////////////////////////
// domview inspector

.janus-inspect-domview
  .domview-flash
    display: none

  .mutation
    font-size: 1.1em

    .mutation-selector
      color: $color-accent
      font-family: $font-monospace
    .mutation-type
      padding: 0.2em 0 0.4em 0.7em

  .domview-display-label
    font-weight: bold
    padding: 1em 0 0.3em


////////////////////////////////////////
// function inspector

.janus-inspect-function
  .panel-handle
    display: none
  .function-args.given
    margin-bottom: 0.8em
  .function-body
    font-size: 1.2em


////////////////////////////////////////
// list inspector

.janus-inspect-list
  .list-more
    @include no-appearance
    display: none
    &.has-more
      display: inline-block
  &.janus-inspect-panel .list-more
    padding: 0.8em 0


////////////////////////////////////////
// model inspector

.janus-inspect-model
  .model-add
    @include no-appearance
    font-size: 1.3em
    margin-left: -0.4em
    padding: 0.2em 0.4em
    &::before
      content: '+'


////////////////////////////////////////
// varying inspector

.janus-inspect-varying
  .panel-derivation
    padding-bottom: 0.4em
  .varying-bar
    background-color: #fff
    border-bottom: 1px dotted #ccc
    margin: 0 -1em
    padding: 0.4em 1em
    label
      float: left
      font-weight: bold
      padding-right: 0.6em
    &:first-child
      margin-top: -0.7em
      padding-top: 0

  .varying-reaction-bar
    margin-bottom: 1em
    padding-bottom: 0.7em

  .varying-observations, .varying-reactions
    display: inline

  .varying-reactions
    .reaction
      display: inline-block
      line-height: 2em
      &::before
        content: '→'
      + .reaction.target-changed::before
        padding: 0 0.3em
      &.target-changed .rxn-value > span
        line-height: 0.8em

  .varying-observations
    .janus-inspect-function
      &::after
        content: ', '
      &:last-child::after
        content: none

  .varying-snapshot
    background: #fadd00
    margin: -1em
      bottom: 1em
    padding: 0.5em 1em
    position: relative
    .varying-snapshot-close
      @include no-appearance
      font-size: 1.5em
      padding: 0 0.3em
      position: absolute
      right: 0
      top: 0
      &::before
        content: '×'

